<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>Image Orchestrator V0</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    body {
      font-family: system-ui, sans-serif;
      max-width: 760px;
      margin: 40px auto;
      padding: 0 16px;
    }

    h1 {
      margin-bottom: 4px;
    }

    .desc {
      color: #666;
      margin-bottom: 28px;
    }

    .field {
      margin-bottom: 18px;
    }

    label {
      display: block;
      font-size: 14px;
      margin-bottom: 6px;
    }

    input[type="file"],
    select,
    textarea {
      width: 100%;
      padding: 8px;
      font-size: 14px;
    }

    textarea {
      height: 100px;
    }

    button {
      padding: 10px 18px;
      cursor: pointer;
      font-size: 14px;
    }

    .result {
      margin-top: 28px;
      background: #f4f4f4;
      padding: 14px;
      border-radius: 6px;
      white-space: pre-wrap;
      font-family: monospace;
    }

    .download {
      margin-top: 10px;
      display: none;
    }
  </style>
</head>

<body>
  <h1>Image Orchestrator V0</h1>
  <p class="desc">
    ä¸Šä¼ å›¾ç‰‡ â†’ é€‰æ‹© API â†’ æè¿°éœ€æ±‚ â†’ ç”Ÿæˆç»“æœ
  </p>

  <!-- Image Upload -->
  <div class="field">
    <label>ä¸Šä¼ å›¾ç‰‡</label>
    <input type="file" id="image" accept="image/*" />
  </div>

  <!-- API Select -->
  <div class="field">
    <label>é€‰æ‹© API</label>
    <select id="api">
      <option value="vision">Vision Modelï¼ˆå›¾åƒç†è§£ï¼‰</option>
      <option value="ocr">OCRï¼ˆæ–‡å­—è¯†åˆ«ï¼‰</option>
      <option value="analyze">Image Analysis</option>
    </select>
  </div>

  <!-- Prompt -->
  <div class="field">
    <label>æè¿°ä½ æƒ³è®© AI åšä»€ä¹ˆ</label>
    <textarea id="prompt" placeholder="ä¾‹å¦‚ï¼šè¯·æè¿°å›¾ç‰‡å†…å®¹ï¼Œå¹¶æŒ‡å‡ºä¸»è¦å…ƒç´ "></textarea>
  </div>

  <button id="run">ç”Ÿæˆç»“æœ</button>

  <!-- Result -->
  <div id="result" class="result">ç­‰å¾…è¾“å…¥â€¦</div>
  <button id="download" class="download">â¬‡ï¸ ä¸‹è½½ç»“æœ</button>

  <script>
    const runBtn = document.getElementById("run");
    const resultBox = document.getElementById("result");
    const downloadBtn = document.getElementById("download");

    runBtn.onclick = () => {
      const image = document.getElementById("image").files[0];
      const api = document.getElementById("api").value;
      const prompt = document.getElementById("prompt").value.trim();

      if (!image || !prompt) {
        resultBox.textContent = "â— è¯·ä¸Šä¼ å›¾ç‰‡å¹¶å¡«å†™æè¿°";
        return;
      }

      // ğŸ‘‰ V0ï¼šæ¨¡æ‹Ÿ workflow
      const workflow = {
        api,
        prompt,
        imageName: image.name
      };

      // mock result
      const mockResult = {
        status: "success",
        api,
        output: "è¿™æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿçš„ AI è¯†åˆ«ç»“æœ",
        image: image.name
      };

      resultBox.textContent =
        "â–¶ æ‰§è¡Œè¯·æ±‚ï¼š\n" +
        JSON.stringify(workflow, null, 2) +
        "\n\nâ–¶ ç”Ÿæˆç»“æœï¼š\n" +
        JSON.stringify(mockResult, null, 2);

      // enable download
      downloadBtn.style.display = "inline-block";
      downloadBtn.onclick = () => {
        const blob = new Blob(
          [JSON.stringify(mockResult, null, 2)],
          { type: "application/json" }
        );
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "result.json";
        a.click();
        URL.revokeObjectURL(url);
      };
    };
  </script>
</body>
</html>
